{{extend 'layout.html'}}
<h2>{{=T( request.args(0).replace('_',' ').capitalize() )}}</h2>
<div id="web2py_user_form">
{{=form}}
{{if request.args(0)=='login':}}
{{if not 'register' in auth.settings.actions_disabled:}}
<br/><a href="{{=URL(r=request,args='register')}}">register</a>
{{pass}}
{{if not 'request_reset_password' in auth.settings.actions_disabled:}}
<br/><a href="{{=URL(r=request,args='request_reset_password')}}">lost password</a>
{{pass}}
{{pass}}
</div>

{{if request.args(0) == 'profile':}}

<h3>How Am I Doing?</h3>

<table cellspacing='0' class='summary_stats'>
    <tr>
        <td class='total_len'>{{=total_len}}</td>
        <td>distinct questions attempted so far.</td>
    </tr>
    <tr>
        <td class='total_cat4'>{{=total_cat4}}</td>
        <td>questions mastered (<span class='percent_cat4'>{{=percent_cat4}}</span>% of questions tried)</td>
    </tr>
    <tr>
        <td class='total_cat3'>{{=total_cat3}}</td>
        <td>making very good progress (<span class='percent_cat3'>{{=percent_cat3}}</span>% of questions tried)</td>
    </tr>
    <tr>
        <td class='total_cat2'>{{=total_cat2}}</td>
        <td>have made a good start (<span class='percent_cat2'>{{=percent_cat2}}</span>% of questions tried)</td>
    </tr>
    <tr>
        <td class='total_cat1'>{{=total_cat1}}</td>
        <td>need some more attention (<span class='percent_cat1'>{{=percent_cat1}}</span>% of questions tried)</td>
    </tr>
    <tr>
        <td colspan='2'>Average score <span class='score_avg'>{{=score_avg}}%</span></td>
    </tr>
</table>

<h3>How Many Questions Have I Attempted?</h3>

{{=XML(htmlcal)}}

<h3>My Bug Reports</h3>

<table>
<tr>
<th>question</th>
<th>your answer</th>
<th>submitted</th>
<th>evaluation</th>
<th>instructor's comments</th>
</tr>
{{for b in blist:}}
<tr>
{{for k,v in b.items():}}
    {{=v}}
{{pass}}
</tr>
{{pass}}
</table>

{{pass}}

<script language="javascript">
<!--
 jQuery("#web2py_user_form input:visible:enabled:first").focus();
//-->
</script>
